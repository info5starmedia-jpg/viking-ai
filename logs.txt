[2025-10-08 14:19:06,987] PyNaCl is not installed, voice will NOT be supported
[2025-10-08 14:19:06,991] logging in using static token
[2025-10-08 14:19:08,330] Shard ID None has connected to Gateway (Session ID: bf2179bb4195b3de6848ac661dc68083).
[2025-10-08 14:24:49,933] error_code=insufficient_quota error_message='You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.' error_param=None error_type=insufficient_quota message='OpenAI API error received' stream_error=False
[2025-10-08 14:24:49,934] Ignoring exception in command ask
Traceback (most recent call last):
  File "C:\VikingAI\.venv\Lib\site-packages\discord\ext\commands\core.py", line 235, in wrapped
    ret = await coro(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\VikingAI\bot.py", line 73, in ask
    answer = await loop.run_in_executor(None, lambda: summarize_with_gpt(query, results))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\evean\AppData\Local\Programs\Python\Python314\Lib\concurrent\futures\thread.py", line 86, in run
    result = ctx.run(self.task)
  File "C:\Users\evean\AppData\Local\Programs\Python\Python314\Lib\concurrent\futures\thread.py", line 73, in run
    return fn(*args, **kwargs)
  File "C:\VikingAI\bot.py", line 73, in <lambda>
    answer = await loop.run_in_executor(None, lambda: summarize_with_gpt(query, results))
                                                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\VikingAI\bot.py", line 57, in summarize_with_gpt
    response = openai.ChatCompletion.create(
        model="gpt-4o-mini",
        messages=[{"role": "user", "content": prompt}],
        max_tokens=500
    )
  File "C:\VikingAI\.venv\Lib\site-packages\openai\api_resources\chat_completion.py", line 25, in create
    return super().create(*args, **kwargs)
           ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "C:\VikingAI\.venv\Lib\site-packages\openai\api_resources\abstract\engine_api_resource.py", line 155, in create
    response, _, api_key = requestor.request(
                           ~~~~~~~~~~~~~~~~~^
        "post",
        ^^^^^^^
    ...<5 lines>...
        request_timeout=request_timeout,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\VikingAI\.venv\Lib\site-packages\openai\api_requestor.py", line 299, in request
    resp, got_stream = self._interpret_response(result, stream)
                       ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "C:\VikingAI\.venv\Lib\site-packages\openai\api_requestor.py", line 710, in _interpret_response
    self._interpret_response_line(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        result.content.decode("utf-8"),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ...<2 lines>...
        stream=False,
        ^^^^^^^^^^^^^
    ),
    ^
  File "C:\VikingAI\.venv\Lib\site-packages\openai\api_requestor.py", line 775, in _interpret_response_line
    raise self.handle_error_response(
        rbody, rcode, resp.data, rheaders, stream_error=stream_error
    )
openai.error.RateLimitError: You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\VikingAI\.venv\Lib\site-packages\discord\ext\commands\bot.py", line 1350, in invoke
    await ctx.command.invoke(ctx)
  File "C:\VikingAI\.venv\Lib\site-packages\discord\ext\commands\core.py", line 1029, in invoke
    await injected(*ctx.args, **ctx.kwargs)  # type: ignore
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\VikingAI\.venv\Lib\site-packages\discord\ext\commands\core.py", line 244, in wrapped
    raise CommandInvokeError(exc) from exc
discord.ext.commands.errors.CommandInvokeError: Command raised an exception: RateLimitError: You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.
[2025-10-08 14:44:36,037] Shard ID None has stopped responding to the gateway. Closing and restarting.
[2025-10-08 14:44:36,275] Shard ID None session has been invalidated.
[2025-10-08 14:44:41,704] Shard ID None has connected to Gateway (Session ID: 190e4a67ca84ac104286df8cae05fd7b).
[2025-10-08 15:10:37,210] Shard ID None has successfully RESUMED session 190e4a67ca84ac104286df8cae05fd7b.
[2025-10-08 17:08:32,083] Shard ID None has successfully RESUMED session 190e4a67ca84ac104286df8cae05fd7b.
[2025-10-08 17:54:43,300] Shard ID None has successfully RESUMED session 190e4a67ca84ac104286df8cae05fd7b.
[2025-10-08 18:48:39,316] Shard ID None has successfully RESUMED session 190e4a67ca84ac104286df8cae05fd7b.
[2025-10-08 20:42:22,748] Shard ID None has successfully RESUMED session 190e4a67ca84ac104286df8cae05fd7b.
[2025-10-08 21:09:16,100] logging in using static token
[2025-10-08 21:09:17,737] Shard ID None has connected to Gateway (Session ID: 383988326554ea175fd6326393b00868).
